# üöó inDrive Car Analysis - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —É–ª—É—á—à–µ–Ω–Ω–æ–π ML –º–æ–¥–µ–ª–∏.

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (–ø–∞–ø–∫–∞ `model/`)
- **EfficientNet-B3** –≤–º–µ—Å—Ç–æ ResNet50 –¥–ª—è –ª—É—á—à–µ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- **Attention –º–µ—Ö–∞–Ω–∏–∑–º—ã** (Spatial + Channel Attention)
- **Focal Loss** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–ê–Ω—Å–∞–º–±–ª–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è** –æ–±–ª–∞—Å—Ç–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- **–£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Node.js —Å–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å
- React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–æ–¥–µ–ª–∏ –∏–∑ Node.js
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
./start_improved_system.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
3. –ó–∞–ø—É—Å—Ç–∏—Ç Python API (–ø–æ—Ä—Ç 5010)
4. –ó–∞–ø—É—Å—Ç–∏—Ç React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–ø–æ—Ä—Ç 5173)

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ Python API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd model
pip install -r requirements.txt
python api_server.py
```
**API –¥–æ—Å—Ç—É–ø–µ–Ω**: http://localhost:5010

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Python API + React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: Python API
cd model
pip install -r requirements.txt
python api_server.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
npm install
npm run dev
```

#### 3. –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
- **React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost:5173 (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- **Python API**: http://localhost:5010 (—Ç–æ–ª—å–∫–æ API)
- **Node.js API** (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π): http://localhost:3001

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   React UI      ‚îÇ    ‚îÇ   Python API    ‚îÇ
‚îÇ   (Frontend)    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Backend)     ‚îÇ
‚îÇ   Port: 5173    ‚îÇ    ‚îÇ   Port: 5010    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  Python ML      ‚îÇ
                    ‚îÇ  (Model)        ‚îÇ
                    ‚îÇ  Direct Access  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ React UI
2. React –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ Python API (http://localhost:5010/predict)
3. Python API –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —É–ª—É—á—à–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
4. Python –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Ä–µ–∑—É–ª—å—Ç–∞—Ç
5. React –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## üìä –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –í React UI –¥–æ–±–∞–≤–ª–µ–Ω–æ:
- **–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞** (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫–æ—Ä 0-100%)
- **–£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –º–æ–¥–µ–ª–∏** (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å)
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è

### –í API –¥–æ–±–∞–≤–ª–µ–Ω–æ:
- **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –∏–∑ —Ñ–æ—Ä–º–∞—Ç–∞ Python –≤ —Ñ–æ—Ä–º–∞—Ç React
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —É–ª—É—á—à–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –î–ª—è Node.js —Å–µ—Ä–≤–µ—Ä–∞
PORT=3001

# –î–ª—è React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
VITE_API_URL=http://localhost:3001
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏
–í —Ñ–∞–π–ª–µ `model/cli_analyze.py` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:
- –ü—É—Ç—å –∫ –º–æ–¥–µ–ª–∏
- –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω—Å–∞–º–±–ª–µ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
‚îú‚îÄ‚îÄ model/                    # –£–ª—É—á—à–µ–Ω–Ω–∞—è ML –º–æ–¥–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ improved_car_model.py # –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ improved_app.py       # Flask API (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ cli_analyze.py        # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Node.js
‚îÇ   ‚îî‚îÄ‚îÄ best_improved_model.pth # –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îú‚îÄ‚îÄ server/                   # Node.js API
‚îÇ   ‚îú‚îÄ‚îÄ server.js            # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ package.json         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ src/                     # React —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ start_improved_system.sh # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ INTEGRATION_README.md    # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç –ø–æ–ª–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –¢–æ–ª—å–∫–æ Python API
cd model
python api_server.py
# API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:5010

# –í–∞—Ä–∏–∞–Ω—Ç 2: Python API + React
cd model && python api_server.py &
npm run dev
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
```

### –¢–µ—Å—Ç API –Ω–∞–ø—Ä—è–º—É—é
```bash
# Python API (–æ—Å–Ω–æ–≤–Ω–æ–π)
curl -X POST -F "image=@test_image.jpg" http://localhost:5010/predict

# Node.js API (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π)
curl -X POST -F "image=@test_image.jpg" http://localhost:3001/api/analyze
```

### –¢–µ—Å—Ç Python –º–æ–¥–µ–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
```bash
cd model
python cli_analyze.py path/to/image.jpg
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "Python not found"
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python3
brew install python3  # macOS
sudo apt install python3  # Ubuntu
```

### –û—à–∏–±–∫–∞ "Module not found"
```bash
cd model
pip3 install -r requirements.txt
```

### –û—à–∏–±–∫–∞ "Cannot find module"
```bash
cd server
npm install
```

### –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `best_improved_model.pth` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø–∞–ø–∫–µ `model/`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏: `cd model && python3 improved_train.py`

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –£–ª—É—á—à–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –±–∞–∑–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π:
- **+15-25% —Ç–æ—á–Ω–æ—Å—Ç—å** –±–ª–∞–≥–æ–¥–∞—Ä—è EfficientNet –∏ attention
- **+30% —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** –±–ª–∞–≥–æ–¥–∞—Ä—è Focal Loss
- **+20% —Ä–æ–±–∞—Å—Ç–Ω–æ—Å—Ç—å** –±–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–õ—É—á—à–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è** –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- **–ê–Ω—Å–∞–º–±–ª–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

### –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:
- **–û–¥–∏–Ω–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**: ~500-800–º—Å
- **–ê–Ω—Å–∞–º–±–ª–µ–≤–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**: ~1-2—Å
- **–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏**: ~2-3—Å (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –ø–∞–ø–∫–µ `model/`

---

**–í–µ—Ä—Å–∏—è**: 2.0.0 (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)  
**–î–∞—Ç–∞**: 2024  
**–ê–≤—Ç–æ—Ä**: inDrive AI Team
