# üß† ML Models - –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è

–ë–∞–∑–æ–≤–∞—è ML –º–æ–¥–µ–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏).

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ª—É—á—à–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏–∑ –ø–∞–ø–∫–∏ `../model/`** –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- +15-25% —Ç–æ—á–Ω–æ—Å—Ç—å
- Attention –º–µ—Ö–∞–Ω–∏–∑–º—ã
- –ê–Ω—Å–∞–º–±–ª–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã
- –£–º–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
ml/
‚îú‚îÄ‚îÄ analyze.py                    # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ roboflow_inference.py         # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Roboflow API
‚îú‚îÄ‚îÄ train_unified_model.py        # –û–±—É—á–µ–Ω–∏–µ –µ–¥–∏–Ω–æ–π –º–æ–¥–µ–ª–∏ (4 –∫–ª–∞—Å—Å–∞)
‚îú‚îÄ‚îÄ train_separate_models.py      # –û–±—É—á–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ setup_data.py                 # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ requirements.txt              # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ models/                       # –û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (.pth —Ñ–∞–π–ª—ã)
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```bash
python analyze.py image.jpg
```

### –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
```bash
# –ï–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å (4 –∫–ª–∞—Å—Å–∞)
python train_unified_model.py

# –û—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏
python train_separate_models.py
```

### Roboflow API
```bash
python roboflow_inference.py image.jpg
```

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ï–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å
- **Backbone**: ResNet50
- **–ö–ª–∞—Å—Å—ã**: 4 (clean_intact, clean_damaged, dirty_intact, dirty_damaged)
- **–ü–æ–¥—Ö–æ–¥**: Transfer learning —Å –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω—ã–º–∏ —Å–ª–æ—è–º–∏

### –û—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏
- **–ú–æ–¥–µ–ª—å —á–∏—Å—Ç–æ—Ç—ã**: clean/dirty
- **–ú–æ–¥–µ–ª—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π**: intact/damaged
- **Backbone**: ResNet50 –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏

### Roboflow API
- **–°–µ—Ä–≤–∏—Å**: –ì–æ—Ç–æ–≤—ã–µ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- **–§–æ–∫—É—Å**: –î–µ—Ç–µ–∫—Ü–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: REST API

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞
```json
{
  "cleanliness": "clean|dirty",
  "cleanlinessConfidence": 0.85,
  "condition": "intact|damaged", 
  "conditionConfidence": 0.92,
  "processingTime": 1200
}
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π

–≠—Ç–∞ –±–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ fallback –≤ Node.js API:
1. –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —É–ª—É—á—à–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å
2. –ï—Å–ª–∏ –Ω–µ —É–¥–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑–æ–≤—É—é –º–æ–¥–µ–ª—å
3. –í –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Roboflow API

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å vs –£–ª—É—á—à–µ–Ω–Ω–∞—è:
- **–¢–æ—á–Ω–æ—Å—Ç—å**: –ë–∞–∑–æ–≤–∞—è ~75-80%, –£–ª—É—á—à–µ–Ω–Ω–∞—è ~90-95%
- **–í—Ä–µ–º—è**: –ë–∞–∑–æ–≤–∞—è ~800–º—Å, –£–ª—É—á—à–µ–Ω–Ω–∞—è ~1-2—Å (—Å –∞–Ω—Å–∞–º–±–ª–µ–º)
- **–§—É–Ω–∫—Ü–∏–∏**: –ë–∞–∑–æ–≤–∞—è - –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑, –£–ª—É—á—à–µ–Ω–Ω–∞—è - –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
pip install -r requirements.txt
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```
data/
‚îú‚îÄ‚îÄ clean_intact/     # –ß–∏—Å—Ç—ã–µ —Ü–µ–ª—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏
‚îú‚îÄ‚îÄ clean_damaged/    # –ß–∏—Å—Ç—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏
‚îú‚îÄ‚îÄ dirty_intact/     # –ì—Ä—è–∑–Ω—ã–µ —Ü–µ–ª—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏
‚îî‚îÄ‚îÄ dirty_damaged/    # –ì—Ä—è–∑–Ω—ã–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –º–æ–¥–µ–ª–µ–π
ls models/

# –ü–µ—Ä–µ–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å
python train_unified_model.py
```

### Roboflow API –æ—à–∏–±–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ API –∫–ª—é—á–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã API

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–û—Å–Ω–æ–≤–Ω–æ–π README](../README.md) - –û–±—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- [INTEGRATION_README](../INTEGRATION_README.md) - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [model/IMPROVED_README](../model/IMPROVED_README.md) - –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å

---

**–°—Ç–∞—Ç—É—Å**: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å  
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–ª—É—á—à–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –∏–∑ `../model/`
